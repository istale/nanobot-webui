services:
  nanobot-openai-api:
    build:
      context: .
      dockerfile: Dockerfile.openai_api

    # Use host networking so the container can reach OpenClaw Gateway bound to 127.0.0.1
    # (OpenClaw default: loopback-only). This avoids widening OpenClaw's bind surface.
    network_mode: host

    volumes:
      # Mount your nanobot config + workspace from host
      - ${HOME}/.nanobot:/root/.nanobot

    env_file:
      - .env

    environment:
      - TZ=UTC
